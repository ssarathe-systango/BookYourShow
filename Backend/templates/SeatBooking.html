<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Movie Seat Booking</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='/CSS/SeatBooking.css') }}">

</head>

<body>

    <div>
        <img class="main-logo" src="{{ url_for('static', filename='/Images/img1.jpg') }}" />
    </div>

    <!-- 
    <div class="movie-container">
        <label style="font-size: 1em;">Pick a movie:</label>
        <select id="movie">
            <option value="10">Jurassic Park ($10)</option>
            <option value="12">Logan ($12)</option>
            <option value="8">Avengers Infinity War ($8)</option>
        </select>
    </div> -->

    <ul class="showcase">
        <li>
            <div id="seat" class="seat"></div>
            <small class="status" style="font-size: 2em;">N/A</small>
        </li>
        <li>
            <div id="seat" class="seat selected"></div>
            <small class="status" style="font-size: 2em;">Selected</small>
        </li>
        <li>
            <div id="seat" class="seat occupied"></div>
            <small class="status" style="font-size: 2em;">Occupied</small>
        </li>
    </ul>

    <div class="container">
        <div class="screen" id="display">BookYourShow</div>

        <div class="row">
            <div id="seat1" class="seat" data-price="50" onclick="ChangeColor('seat1')">A1</div>
            <div id="seat2" class="seat" onclick="ChangeColor('seat2')">A2</div>
            <div id="seat3" class="seat" onclick="ChangeColor('seat3')">A3</div>
            <div id="seat4" class="seat" onclick="ChangeColor('seat4')">A4</div>
            <div id="seat5" class="seat" onclick="ChangeColor('seat5')">A5</div>
            <div id="seat26" class="seat" onclick="ChangeColor('seat26')">A6</div>
            <div id="seat27" class="seat" onclick="ChangeColor('seat27')">A7</div>
            <div id="seat28" class="seat" onclick="ChangeColor('seat28')">A8</div>

        </div>
        <div class="row">
            <div id="seat6" class="seat" onclick="ChangeColor('seat6')">B1</div>
            <div id="seat7" class="seat" onclick="ChangeColor('seat7')">B2</div>
            <div id="seat8" class="seat" onclick="ChangeColor('seat8')">B3</div>

            <div id="seat" class="seat occupied">B4</div>
            <div id="seat" class="seat occupied">B5</div>

            <div id="seat9" class="seat" onclick="ChangeColor('seat9')">B6</div>
            <div id="seat10" class="seat" onclick="ChangeColor('seat10')">B7</div>
            <div id="seat11" class="seat" onclick="ChangeColor('seat11')">B8</div>

        </div>
        <div class="row">
            <div id="seat12" class="seat" onclick="ChangeColor('seat12')">C1</div>
            <div id="seat13" class="seat" onclick="ChangeColor('seat13')">C2</div>
            <div id="seat14" class="seat" onclick="ChangeColor('seat14')">C3</div>
            <div id="seat15" class="seat" onclick="ChangeColor('seat15')">C4</div>
            <div id="seat16" class="seat" onclick="ChangeColor('seat16')">C5</div>
            <div id="seat17" class="seat" onclick="ChangeColor('seat17')">C6</div>

            <div id="seat" class="seat occupied">C7</div>
            <div id="seat" class="seat occupied">C8</div>
        </div>
        <div class="row">
            <div id="seat18" class="seat" onclick="ChangeColor('seat18')">D1</div>
            <div id="seat19" class="seat" onclick="ChangeColor('seat19')">D2</div>
            <div id="seat20" class="seat" onclick="ChangeColor('seat20')">D3</div>
            <div id="seat21" class="seat" onclick="ChangeColor('seat21')">D4</div>
            <div id="seat22" class="seat" onclick="ChangeColor('seat22')">D5</div>
            <div id="seat23" class="seat" onclick="ChangeColor('seat23')">D6</div>
            <div id="seat24" class="seat" onclick="ChangeColor('seat24')">D7</div>
            <div id="seat25" class="seat" onclick="ChangeColor('seat25')">D8</div>

        </div>
        <div class="row">
            <div id="seat29" class="seat" onclick="ChangeColor('seat29')">E1</div>
            <div id="seat30" class="seat" onclick="ChangeColor('seat30')">E2</div>
            <div id="seat31" class="seat" onclick="ChangeColor('seat31')">E3</div>

            <div id="seat" class="seat occupied">E4</div>
            <div id="seat" class="seat occupied">E5</div>

            <div id="seat32" class="seat" onclick="ChangeColor('seat32')">E6</div>
            <div id="seat33" class="seat" onclick="ChangeColor('seat33')">E7</div>
            <div id="seat34" class="seat" onclick="ChangeColor('seat34')">E8</div>

        </div>
        <div class="row">
            <div id="seat35" class="seat" onclick="ChangeColor('seat35')">F1</div>
            <div id="seat36" class="seat" onclick="ChangeColor('seat36')">F2</div>
            <div id="seat37" class="seat" onclick="ChangeColor('seat37')">F3</div>
            <div id="seat38" class="seat" onclick="ChangeColor('seat38')">F4</div>

            <div id="seat" class="seat occupied">F5</div>
            <div id="seat" class="seat occupied">F6</div>
            <div id="seat" class="seat occupied">F7</div>
            <div id="seat39" class="seat" onclick="ChangeColor('seat39')">F8</div>

        </div>
    </div>

    <!-- <p class="text" style="font-size: 1em;margin:0px 0px 15px 0px">
        You have selected <span id="count">0</span> s
        eats for a price of $<span id="total">0</span>
    </p> -->

    <div class="row">
        <div class="col-sm d-flex justify-content-center">
            <a href="/">
                <button class="btn-home">
                    Home
                </button>
            </a>
        </div>

        <div class="col-sm d-flex justify-content-center">
            <button class="btn-paynow" id="payBtn">
                Paynow
            </button>
        </div>
    </div>

    <script type="module" src="{{ url_for('static', filename='/JS/SeatBooking.js') }}"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAPaUXSG4jDBh37oBebeSLOS_H6x1U02RU",
            authDomain: "book-your-show-b79e2.firebaseapp.com",
            databaseURL: "https://book-your-show-b79e2-default-rtdb.firebaseio.com",
            projectId: "book-your-show-b79e2",
            storageBucket: "book-your-show-b79e2.appspot.com",
            messagingSenderId: "278309549811",
            appId: "1:278309549811:web:f6ce73d73b77d3d2712986",
            measurementId: "G-B1M7Z352H2"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);




        import { getDatabase, set, ref, child, get, onValue }
            from "https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js";

        const db = getDatabase();

        const seat1 = document.getElementById('seat1');
        const seat2 = document.getElementById('seat2');
        const seat3 = document.getElementById('seat3');
        const seat4 = document.getElementById('seat4');
        const seat5 = document.getElementById('seat5');
        const seat6 = document.getElementById('seat6');
        const seat7 = document.getElementById('seat7');
        const seat8 = document.getElementById('seat8');
        const seat9 = document.getElementById('seat9');
        const seat10 = document.getElementById('seat10');
        const seat11 = document.getElementById('seat11');
        const seat12 = document.getElementById('seat12');
        const seat13 = document.getElementById('seat13');
        const seat14 = document.getElementById('seat14');
        const seat15 = document.getElementById('seat15');
        const seat16 = document.getElementById('seat16');
        const seat17 = document.getElementById('seat17');
        const seat18 = document.getElementById('seat18');
        const seat19 = document.getElementById('seat19');
        const seat20 = document.getElementById('seat20');
        const seat21 = document.getElementById('seat21');
        const seat22 = document.getElementById('seat22');
        const seat23 = document.getElementById('seat23');
        const seat24 = document.getElementById('seat24');
        const seat25 = document.getElementById('seat25');
        const seat26 = document.getElementById('seat26');
        const seat27 = document.getElementById('seat27');
        const seat28 = document.getElementById('seat28');
        const seat29 = document.getElementById('seat29');
        const seat30 = document.getElementById('seat30');
        const seat31 = document.getElementById('seat31');
        const seat32 = document.getElementById('seat32');
        const seat33 = document.getElementById('seat33');
        const seat34 = document.getElementById('seat34');
        const seat35 = document.getElementById('seat35');
        const seat36 = document.getElementById('seat36');
        const seat37 = document.getElementById('seat37');
        const seat38 = document.getElementById('seat38');
        const seat39 = document.getElementById('seat39');
        const payBtn = document.getElementById('payBtn');


        function selectedSeats() {
            set(ref(db, 'SelectedSeats/'), {
                'seat1': seat1.innerText,
                'seat2': seat2.innerText,
                'seat3': seat3.innerText,
                'seat4': seat4.innerText
            })
                .then(() => {
                    alert("The user added successfully");
                })
                .catch(() => {
                    alert("something went wrong" + error);
                })
        }

        payBtn.addEventListener('click', selectedSeats);



    </script>
</body>

</html>